<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
<title>
    æ–­å‰‘é‡é“¸ä¹‹æ—¥ï¼Œéª‘å£«å½’æ¥ä¹‹æ—¶ã€‚
</title>
<!--[if lt IE 9]><script src="//cdn.bootcss.com/html5shiv/r29/html5.js"></script><![endif]-->
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
<meta name="author" content="é²æ¡£ä¿¡">
<meta name="description" content="Hello World !">
<meta name="keywords" content="é²æ¡£ä¿¡,ludangxin">
<script async src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
<link rel="stylesheet" href="http://blog.ludangxin.club/styles/main.css" />
<link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script type="text/javascript" src="https://apps.bdimg.com/libs/jquery/1.7.1/jquery.min.js"></script>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/css/style.min.css" />
        <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/tocbot.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/script.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/icon.min.js"></script>
        
            <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/Card/prism.min.js"></script>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/css/Card/prism.min.css" />
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css">
            <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js"></script>
            
                <!--ç‚¹å‡»ç‰¹æ•ˆ-->
                <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/love.min.js"></script>
                
                        <!--CDNæ ·å¼-->
                        <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/hit-kounter-lc-0.3.0.js"></script>
                        <script src="https://cdn1.lncld.net/static/js/av-min-1.5.0.js"></script>
                        
                            <script>
                                (function() {
                                    var bp = document.createElement('script');
                                    var curProtocol = window.location.protocol.split(':')[0];
                                    if (curProtocol === 'https') {
                                        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
                                    } else {
                                        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                                    }
                                    var s = document.getElementsByTagName("script")[0];
                                    s.parentNode.insertBefore(bp, s);
                                })();
                            </script>
                            
</head>

<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo">
                <a href="http://blog.ludangxin.club">
                    æ–­å‰‘é‡é“¸ä¹‹æ—¥ï¼Œéª‘å£«å½’æ¥ä¹‹æ—¶ã€‚
                </a>
            </div>
            <div id="tp-weather-widget"></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/">
                        ğŸ é¦–é¡µ
                    </a>
                    
                    <a class="menu-item" href="/archives">
                        ğŸ“šå½’æ¡£
                    </a>
                    
                    <a class="menu-item" href="/tags">
                        ğŸ·ï¸æ ‡ç­¾
                    </a>
                    
                    <a class="menu-item" href="/posts">
                        âœï¸åšå®¢
                    </a>
                    
                    <a class="menu-item" href="/post/about/">
                        ğŸ‘¦å…³äº
                    </a>
                    
                        <input id="switch_default" type="checkbox" class="switch_default">
                        <label for="switch_default" class="toggleBtn"></label>
            </div>
            <form id="gridea-search-form" data-update="1597935637693" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
            </form>
        </div>
    </nav>

    
        <nav class="navbar-mobile" id="nav-mobile">
            <div class="container">
                <div class="navbar-header">
                    <div>
                        <a href="http://blog.ludangxin.club">
                            æ–­å‰‘é‡é“¸ä¹‹æ—¥ï¼Œéª‘å£«å½’æ¥ä¹‹æ—¶ã€‚
                        </a>
                        <!--en-->
                        <a id="mobile-toggle-theme-en" class="a en">&nbsp;Dark</a>
                        <!--zh-->
                        <a id="mobile-toggle-theme-zh" class="a zh">&nbsp;&#x6697;&#x9ED1;</a>
                    </div>
                    <form id="gridea-search-form" data-update="1597935637693" action="/search/index.html">
                        <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
                    </form>
                    <!--en-->
                    <div class="menu-toggle" id="menu-toggle-en" onclick="mobileBtn()">&#9776; Menu</div>
                    <!--zh-->
                    <div class="menu-toggle" id="menu-toggle-zh" onclick="mobileBtn()">&#9776; &#x83DC;&#x5355;</div>

                </div>
                <div class="menu" id="mobile-menu">
                    
                        <a class="menu-item" href="/">
                            ğŸ é¦–é¡µ
                        </a>
                        
                        <a class="menu-item" href="/archives">
                            ğŸ“šå½’æ¡£
                        </a>
                        
                        <a class="menu-item" href="/tags">
                            ğŸ·ï¸æ ‡ç­¾
                        </a>
                        
                        <a class="menu-item" href="/posts">
                            âœï¸åšå®¢
                        </a>
                        
                        <a class="menu-item" href="/post/about/">
                            ğŸ‘¦å…³äº
                        </a>
                        
                </div>
            </div>
        </nav>
</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementById("menu-toggle-en");
        var toggleMenu_zh = document.getElementById("menu-toggle-zh");

        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.display != "none") {
            if (toggleMenu.classList.contains("active")) {
                toggleMenu.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu.classList.add("active")
                mobileMenu.classList.add("active")
            }
        } else if (toggleMenu_zh.display != "none") {
            if (toggleMenu_zh.classList.contains("active")) {
                toggleMenu_zh.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu_zh.classList.add("active")
                mobileMenu.classList.add("active")
            }
        }

    }
</script>



    <script>
        (function(a, h, g, f, e, d, c, b) {
            b = function() {
                d = h.createElement(g);
                c = h.getElementsByTagName(g)[0];
                d.src = e;
                d.charset = "utf-8";
                d.async = 1;
                c.parentNode.insertBefore(d, c)
            };
            a["SeniverseWeatherWidgetObject"] = f;
            a[f] || (a[f] = function() {
                (a[f].q = a[f].q || []).push(arguments)
            });
            a[f].l = +new Date();
            if (a.attachEvent) {
                a.attachEvent("onload", b)
            } else {
                a.addEventListener("load", b, false)
            }
        }(window, document, "script", "SeniverseWeatherWidget", "//cdn.sencdn.com/widget2/static/js/bundle.js?t=" + parseInt((new Date().getTime() / 100000000).toString(), 10)));
        window.SeniverseWeatherWidget('show', {
            flavor: "slim",
            location: "WWEFQFPJZ7T8",
            geolocation: true,
            language: "auto",
            unit: "c",
            theme: "auto",
            token: "61bcc333-3305-4728-9465-6785274bb0a3",
            hover: "enabled",
            container: "tp-weather-widget"
        })
    </script>
    
            <div class="main">
                <div class="container">
                    <article class="post-wrap">
                        <header class="post-header">
                            <h1 class="post-title">
                                SpringBoot é›†æˆ Mybatis-Plus
                            </h1>
                            
                                <!--en-->
                                <div class="post-meta en">
                                    Author:
                                    <a itemprop="author" rel="author" href="/">
                                        æ–­å‰‘é‡é“¸ä¹‹æ—¥ï¼Œéª‘å£«å½’æ¥ä¹‹æ—¶ã€‚
                                    </a>
                                    <span class="post-time">
                                Date: <a href="#">2020-08-20</a>
                            </span>
                                    <span class="post-readtime">Reading Time:<a
                                    href="#">31.6
                                    mins</a></span>
                                    <span class="post-words">words:<a href="#">6680</a></span>
                                    
                                            Views:
                                            <span data-hk-page="current"> - </span>
                                            
                                </div>
                                
                        </header>
                        
                            <img class="post-feature-image" src="http://blog.ludangxin.club/post-images/mybatis-plus.jpg" alt="">
                          
                        <div class="post-content">
                            <h2 id="1-mybatis-plusç®€ä»‹">1 Mybatis-Plusç®€ä»‹</h2>
<h3 id="11-ç®€ä»‹">1.1 ç®€ä»‹</h3>
<p>MyBatis-Plusï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª MyBatis çš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚è¯¥æ¡†æ¶ç”±baomidouï¼ˆè‹ç±³è±†ï¼‰ç»„ç»‡å¼€å‘å¹¶ä¸”å¼€æºçš„ã€‚å®˜ç½‘ï¼š<a href="https://mp.baomidou.com/">https://mp.baomidou.com/</a>ï¼Œç äº‘åœ°å€ï¼š<a href="https://gitee.com/organizations/baomidou">https://gitee.com/organizations/baomidou</a><br>
<img src="http://blog.ludangxin.club/post-images/1597928865765.png" alt="" loading="lazy"><br>
<strong>æ„¿æ™¯</strong><br>
æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯æˆä¸º MyBatis æœ€å¥½çš„æ­æ¡£ï¼Œå°±åƒé­‚æ–—ç½— ä¸­çš„ 1Pã€2Pï¼ŒåŸºå‹æ­é…ï¼Œæ•ˆç‡ç¿»å€ã€‚<br>
<img src="http://blog.ludangxin.club/post-images/1597928952406.png" alt="" loading="lazy"></p>
<h3 id="12-ç‰¹æ€§">1.2 ç‰¹æ€§</h3>
<ul>
<li><strong>æ— ä¾µå…¥</strong>ï¼šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œå¼•å…¥å®ƒä¸ä¼šå¯¹ç°æœ‰å·¥ç¨‹äº§ç”Ÿå½±å“ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘</li>
<li><strong>æŸè€—å°</strong>ï¼šå¯åŠ¨å³ä¼šè‡ªåŠ¨æ³¨å…¥åŸºæœ¬ CURDï¼Œæ€§èƒ½åŸºæœ¬æ— æŸè€—ï¼Œç›´æ¥é¢å‘å¯¹è±¡æ“ä½œ</li>
<li><strong>å¼ºå¤§çš„ CRUD æ“ä½œ</strong>ï¼šå†…ç½®é€šç”¨ Mapperã€é€šç”¨ Serviceï¼Œä»…ä»…é€šè¿‡å°‘é‡é…ç½®å³å¯å®ç°å•è¡¨å¤§éƒ¨åˆ† CRUD æ“ä½œï¼Œæ›´æœ‰å¼ºå¤§çš„æ¡ä»¶æ„é€ å™¨ï¼Œæ»¡è¶³å„ç±»ä½¿ç”¨éœ€æ±‚</li>
<li><strong>æ”¯æŒ Lambda å½¢å¼è°ƒç”¨</strong>ï¼šé€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæ–¹ä¾¿çš„ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™</li>
<li><strong>æ”¯æŒå¤šç§æ•°æ®åº“</strong>ï¼šæ”¯æŒ MySQLã€MariaDBã€Oracleã€DB2ã€H2ã€HSQLã€SQLiteã€Postgreã€SQLServer2005ã€SQLServer ç­‰å¤šç§æ•°æ®åº“</li>
<li><strong>æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼šæ”¯æŒå¤šè¾¾ 4 ç§ä¸»é”®ç­–ç•¥ï¼ˆå†…å«åˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ - Sequenceï¼‰ï¼Œå¯è‡ªç”±é…ç½®ï¼Œå®Œç¾è§£å†³ä¸»é”®é—®é¢˜</li>
<li><strong>æ”¯æŒ XML çƒ­åŠ è½½</strong>ï¼šMapper å¯¹åº”çš„ XML æ”¯æŒçƒ­åŠ è½½ï¼Œå¯¹äºç®€å•çš„ CRUD æ“ä½œï¼Œç”šè‡³å¯ä»¥æ—  XML å¯åŠ¨</li>
<li><strong>æ”¯æŒ ActiveRecord æ¨¡å¼</strong>ï¼šæ”¯æŒ ActiveRecord å½¢å¼è°ƒç”¨ï¼Œå®ä½“ç±»åªéœ€ç»§æ‰¿ Model ç±»å³å¯è¿›è¡Œå¼ºå¤§çš„ CRUD æ“ä½œ</li>
<li><strong>æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œ</strong>ï¼šæ”¯æŒå…¨å±€é€šç”¨æ–¹æ³•æ³¨å…¥ï¼ˆ Write once, use anywhere ï¼‰</li>
<li><strong>æ”¯æŒå…³é”®è¯è‡ªåŠ¨è½¬ä¹‰</strong>ï¼šæ”¯æŒæ•°æ®åº“å…³é”®è¯ï¼ˆorderã€key......ï¼‰è‡ªåŠ¨è½¬ä¹‰ï¼Œè¿˜å¯è‡ªå®šä¹‰å…³é”®è¯</li>
<li><strong>å†…ç½®ä»£ç ç”Ÿæˆå™¨</strong>ï¼šé‡‡ç”¨ä»£ç æˆ–è€… Maven æ’ä»¶å¯å¿«é€Ÿç”Ÿæˆ Mapper ã€ Model ã€ Service ã€ Controller å±‚ä»£ç ï¼Œæ”¯æŒæ¨¡æ¿å¼•æ“ï¼Œæ›´æœ‰è¶…å¤šè‡ªå®šä¹‰é…ç½®ç­‰æ‚¨æ¥ä½¿ç”¨</li>
<li><strong>å†…ç½®åˆ†é¡µæ’ä»¶</strong>ï¼šåŸºäº MyBatis ç‰©ç†åˆ†é¡µï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒå…·ä½“æ“ä½œï¼Œé…ç½®å¥½æ’ä»¶ä¹‹åï¼Œå†™åˆ†é¡µç­‰åŒäºæ™®é€š List æŸ¥è¯¢</li>
<li><strong>å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶</strong>ï¼šå¯è¾“å‡º Sql è¯­å¥ä»¥åŠå…¶æ‰§è¡Œæ—¶é—´ï¼Œå»ºè®®å¼€å‘æµ‹è¯•æ—¶å¯ç”¨è¯¥åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿæªå‡ºæ…¢æŸ¥è¯¢</li>
<li><strong>å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶</strong>ï¼šæä¾›å…¨è¡¨ delete ã€update æ“ä½œæ™ºèƒ½åˆ†æé˜»æ–­ï¼Œä¹Ÿå¯è‡ªå®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œé¢„é˜²è¯¯æ“ä½œ</li>
<li><strong>å†…ç½® Sql æ³¨å…¥å‰¥ç¦»å™¨</strong>ï¼šæ”¯æŒ Sql æ³¨å…¥å‰¥ç¦»ï¼Œæœ‰æ•ˆé¢„é˜² Sql æ³¨å…¥æ”»å‡»</li>
</ul>
<h2 id="2-å¿«é€Ÿå…¥é—¨">2 å¿«é€Ÿå…¥é—¨</h2>
<h3 id="21-åˆ›å»ºæ•°æ®åº“åŠè¡¨">2.1 åˆ›å»ºæ•°æ®åº“åŠè¡¨</h3>
<figure data-type="image" tabindex="1"><img src="http://blog.ludangxin.club/post-images/1597928994208.png" alt="" loading="lazy"></figure>
<pre><code class="language-sql">-- åˆ›å»ºæµ‹è¯•è¡¨
CREATE TABLE `sys_user` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
  `user_name` varchar(20) NOT NULL COMMENT 'ç”¨æˆ·å',
  `name` varchar(30) DEFAULT NULL COMMENT 'å§“å',
  `age` int(11) DEFAULT NULL COMMENT 'å¹´é¾„',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

-- æ’å…¥æµ‹è¯•æ•°æ®
INSERT INTO `sys_user` (`id`, `user_name`, `name`, `age`) VALUES ('1', 'zhangsan', 'å¼ ä¸‰', '18');
INSERT INTO `sys_user` (`id`, `user_name`, `name`, `age`) VALUES ('2', 'lisi', 'æå››', '20');
INSERT INTO `sys_user` (`id`, `user_name`, `name`, `age`) VALUES ('3', 'wangwu', 'ç‹äº”', '28');
INSERT INTO `sys_user` (`id`, `user_name`, `name`, `age`) VALUES ('4', 'zhaoliu', 'èµµå…­', '21');
INSERT INTO `sys_user` (`id`, `user_name`, `name`, `age`) VALUES ('5', 'sunqi', 'å­™ä¸ƒ', '24');
~~~![](http://blog.ludangxin.club/post-images/1597929873595.jpg)
### 2.2 å·¥ç¨‹æ­å»º
#### å®Œæ•´çš„é¡¹ç›®ç»“æ„å›¾ç¤º
![](http://blog.ludangxin.club/post-images/1597929500996.jpg)
#### 2.2.1 æ·»åŠ æ‰€éœ€ä¾èµ–
~~~xml
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;!--ç®€åŒ–ä»£ç çš„å·¥å…·åŒ…--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;
        &lt;!--mybatis-plusçš„springbootæ”¯æŒ--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;3.3.2&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!--mysqlé©±åŠ¨--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;5.1.47&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre>
<h4 id="222-é…ç½®-applicationyml">2.2.2 é…ç½® application.yml</h4>
<pre><code class="language-yaml">spring:
  datasource:
    # Oracle: oracle.jdbc.OracleDriver
    #  5.7ä¹‹å‰ç‰ˆæœ¬ä½¿ç”¨ com.mysql.jdbc.Driver 
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/mp?useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=true&amp;serverTimezone=GMT%2B8
    username: root
    password: root
    type: com.zaxxer.hikari.HikariDataSource
    hikari:
      minimum-idle: 5
      maximum-pool-size: 5
      auto-commit: true
      idle-timeout: 30000
      pool-name: DatebookHikariCP
      max-lifetime: 1800000
      connection-timeout: 30000
      connection-test-query: SELECT 1  # Oracle: SELECT 1 FROM DUAL

mybatis-plus:
  # è®¾ç½®Mapperæ¥å£æ‰€å¯¹åº”çš„XMLæ–‡ä»¶ä½ç½®ï¼Œå¦‚æœä½ åœ¨Mapperæ¥å£ä¸­æœ‰è‡ªå®šä¹‰æ–¹æ³•ï¼Œéœ€è¦è¿›è¡Œè¯¥é…ç½®
  mapper-locations: classpath*:mybatis/*.xml
  # è®¾ç½®åˆ«ååŒ…æ‰«æè·¯å¾„ï¼Œé€šè¿‡è¯¥å±æ€§å¯ä»¥ç»™åŒ…ä¸­çš„ç±»æ³¨å†Œåˆ«å
  type-aliases-package: com.ludangxin.mp.pojo
  configuration:
    # æ§åˆ¶å°sqlæ‰“å°
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

</code></pre>
<h4 id="223-ç¼–å†™pojo">2.2.3 ç¼–å†™pojo</h4>
<pre><code class="language-java">import com.baomidou.mybatisplus.annotation.TableName;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

@Data
@NoArgsConstructor
@AllArgsConstructor
@TableName(&quot;sys_user&quot;)
public class User {
    @TableId(&quot;ID&quot;)
    private Long id;
    //é©¼å³°å‘½å,åˆ™æ— éœ€æ³¨è§£
    @TableField(&quot;USER_NAME&quot;) 
    private String userName; 
    @TableField(&quot;NAME&quot;)
    private String name;
    @TableField(&quot;AGE&quot;)
    private Integer age;
}
</code></pre>
<h4 id="225-ç¼–å†™mapperæ¥å£å’Œé…ç½®æ–‡ä»¶">2.2.5 ç¼–å†™mapperæ¥å£å’Œé…ç½®æ–‡ä»¶</h4>
<pre><code class="language-java">import com.ludangxin.mp.pojo.User;
import com.baomidou.mybatisplus.core.mapper.BaseMapper;

public interface UserMapper extends BaseMapper&lt;User&gt; {
}
</code></pre>
<p>åœ¨resourcesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹mybatisï¼Œä¸“é—¨å­˜æ”¾mapperé…ç½®æ–‡ä»¶</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE mapper
        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
&lt;mapper namespace=&quot;com.ludangxin.mp.mapper.UserMapper&quot;&gt;
    
&lt;/mapper&gt;
</code></pre>
<h4 id="226-ä¿®æ”¹å¯åŠ¨ç±»">2.2.6 ä¿®æ”¹å¯åŠ¨ç±»</h4>
<pre><code class="language-java">import org.mybatis.spring.annotation.MapperScan;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.WebApplicationType;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.builder.SpringApplicationBuilder;

//è®¾ç½®mapperæ¥å£çš„æ‰«æåŒ…
@MapperScan(&quot;com.ludangxin.mp.mapper&quot;) 
@SpringBootApplication
public class MyApplication {
    public static void main(String[] args) {
        SpringApplication.run(MyApplication.class, args);
    }
}
</code></pre>
<h4 id="227-ç¼–å†™æµ‹è¯•ç”¨ä¾‹">2.2.7 ç¼–å†™æµ‹è¯•ç”¨ä¾‹</h4>
<pre><code class="language-java">import com.ludangxin.mp.mapper.UserMapper;
import com.ludangxin.mp.pojo.User;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

import java.util.List;

@RunWith(SpringRunner.class)
@SpringBootTest
public class TestMybatisSpringBoot {

    @Autowired
    private UserMapper userMapper;

    @Test
    public void testSelect() {
        //æ ¹æ®idæŸ¥è¯¢æ•°æ®
        User user = userMapper.selectById(2L);
        System.out.println(user);
    }

}
</code></pre>
<p>æµ‹è¯•ç»“æœï¼š</p>
<pre><code class="language-shell">JDBC Connection [HikariProxyConnection@358849801 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fba8eec] will not be managed by Spring
==&gt;  Preparing: SELECT ID,USER_NAME,NAME,AGE FROM sys_user WHERE ID=? 
==&gt; Parameters: 2(Long)
&lt;==    Columns: ID, USER_NAME, NAME, AGE
&lt;==        Row: 2, lisi, æå››, 20
&lt;==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39da5e49]
User(id=2, userName=lisi, name=æå››, age=20)
</code></pre>
<h2 id="3-é€šç”¨crud">3 é€šç”¨CRUD</h2>
<pre><code>åœ¨å…¥é—¨æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬çš„Mapperæ¥å£ç»§æ‰¿äº†BaseMapperï¼Œç„¶åå°±å¯ä»¥è¿›è¡Œåˆ°å„ç§å„æ ·çš„å•è¡¨æ“ä½œï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†è¯¦ç»†è®²è§£è¿™äº›æ“ä½œã€‚
</code></pre>
<figure data-type="image" tabindex="2"><img src="http://blog.ludangxin.club/post-images/1597929052973.png" alt="" loading="lazy"></figure>
<h3 id="31-æ’å…¥æ“ä½œ">3.1 æ’å…¥æ“ä½œ</h3>
<h4 id="311-insertæ–¹æ³•">3.1.1 insertæ–¹æ³•</h4>
<pre><code class="language-java">/**
 * æ’å…¥ä¸€æ¡è®°å½•
 * @param entity å®ä½“å¯¹è±¡
*/
int insert(T entity);
</code></pre>
<h4 id="312-æµ‹è¯•ç”¨ä¾‹">3.1.2 æµ‹è¯•ç”¨ä¾‹</h4>
<pre><code class="language-java">import com.ludangxin.mp.mapper.UserMapper;
import com.ludangxin.mp.pojo.User;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

import java.util.List;

@RunWith(SpringRunner.class)
@SpringBootTest
public class TestUserMapper {

    @Autowired
    private UserMapper userMapper;

    @Test
    public void testInsert(){
        User user = new User();
        user.setAge(301);
        user.setUserName(&quot;caocao&quot;);
        user.setName(&quot;æ›¹æ“&quot;);

        //è¿”å›çš„resultæ˜¯å—å½±å“çš„è¡Œæ•°ï¼Œå¹¶ä¸æ˜¯è‡ªå¢åçš„id
        int result = userMapper.insert(user); 
        System.out.println(&quot;result = &quot; + result); 

        //è‡ªå¢åçš„idä¼šå›å¡«åˆ°å¯¹è±¡ä¸­
        System.out.println(user.getId()); 
    }
}
</code></pre>
<p>æµ‹è¯•ç»“æœï¼š</p>
<pre><code class="language-shell">JDBC Connection [HikariProxyConnection@1240320816 wrapping com.mysql.cj.jdbc.ConnectionImpl@59303963] will not be managed by Spring
==&gt;  Preparing: INSERT INTO sys_user ( ID, USER_NAME, NAME, AGE ) VALUES ( ?, ?, ?, ? ) 
==&gt; Parameters: 1295736901034086401(Long), caocao(String), æ›¹æ“(String), 301(Integer)
&lt;==    Updates: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108e9837]
result = 1
1295736901034086401
</code></pre>
<h4 id="313-ä¸»é”®ç”Ÿæˆç­–ç•¥">3.1.3 ä¸»é”®ç”Ÿæˆç­–ç•¥</h4>
<pre><code>åœ¨åˆšæ‰çš„ä¾‹å­ä¸­ï¼Œæ•°æ®å·²ç»ä¿å­˜åˆ°äº†æ•°æ®åº“ï¼Œä½†æ˜¯idçš„å€¼ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„è‡ªå¢é•¿ï¼Œè€Œæ˜¯MPç”Ÿæˆäº†idçš„å€¼å¹¶å†™å…¥åˆ°äº†æ•°æ®åº“ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡IdTypeç±»è‡ªå·±è®¾ç½®idçš„ç”Ÿæˆç­–ç•¥ã€‚
</code></pre>
<pre><code class="language-java">package com.baomidou.mybatisplus.annotation;
import lombok.Getter;

/**
 * ç”ŸæˆIDç±»å‹æšä¸¾ç±»
 */
@Getter
public enum IdType {
    /**
     * æ•°æ®åº“IDè‡ªå¢
     */
    AUTO(0),
    /**
     * è¯¥ç±»å‹ä¸ºæœªè®¾ç½®ä¸»é”®ç±»å‹ï¼Œè¿™æ˜¯é»˜è®¤å€¼
     */
    NONE(1),
    /**
     * ç”¨æˆ·è¾“å…¥ID
     * &lt;p&gt;è¯¥ç±»å‹å¯ä»¥é€šè¿‡è‡ªå·±æ³¨å†Œè‡ªåŠ¨å¡«å……æ’ä»¶è¿›è¡Œå¡«å……&lt;/p&gt;
     */
    INPUT(2),

    /* ä»¥ä¸‹3ç§ç±»å‹ã€åªæœ‰å½“æ’å…¥å¯¹è±¡IDä¸ºç©ºï¼Œæ‰è‡ªåŠ¨å¡«å……ã€‚ */
    /**
     * å…¨å±€å”¯ä¸€ID (idWorker)
     */
    ID_WORKER(3),
    /**
     * å…¨å±€å”¯ä¸€ID (UUID)
     */
    UUID(4),
    /**
     * å­—ç¬¦ä¸²å…¨å±€å”¯ä¸€ID (idWorkerçš„å­—ç¬¦ä¸²è¡¨ç¤º)
     */
    ID_WORKER_STR(5);

    private final int key;

    IdType(int key) {
        this.key = key;
    }
}

</code></pre>
<p>ä¿®æ”¹Userå¯¹è±¡ï¼Œè®¾ç½®idä¸ºè‡ªå¢é•¿ï¼š</p>
<pre><code class="language-java">import com.baomidou.mybatisplus.annotation.IdType;
import com.baomidou.mybatisplus.annotation.TableId;
import com.baomidou.mybatisplus.annotation.TableName;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

@Data
@NoArgsConstructor
@AllArgsConstructor
@TableName(&quot;sys_user&quot;)
public class User {

    @TableId(type = IdType.AUTO) //æŒ‡å®šidä¸ºè‡ªå¢é•¿
    private Long id;
    ... ...
}
</code></pre>
<h3 id="32-æ›´æ–°æ“ä½œ">3.2 æ›´æ–°æ“ä½œ</h3>
<h4 id="321-updatebyidæ–¹æ³•">3.2.1 updateByIdæ–¹æ³•</h4>
<pre><code class="language-java">/**
 * æ ¹æ®IDä¿®æ”¹
 * @param entity å®ä½“å¯¹è±¡
 */
int updateById(@Param(Constants.ENTITY) T entity);
</code></pre>
<p>####ã€€3.2.2 æµ‹è¯•ç”¨ä¾‹</p>
<pre><code class="language-java">    @Test
    public void testUpdateById() {
        User user = new User();
        user.setId(5L); //ä¸»é”®
        user.setAge(21); //æ›´æ–°çš„å­—æ®µ

        //æ ¹æ®idæ›´æ–°ï¼Œæ›´æ–°ä¸ä¸ºnullçš„å­—æ®µ
        this.userMapper.updateById(user);
    }

}
</code></pre>
<p>æµ‹è¯•ç»“æœï¼š</p>
<pre><code class="language-shell">JDBC Connection [HikariProxyConnection@864078397 wrapping com.mysql.cj.jdbc.ConnectionImpl@23310248] will not be managed by Spring
==&gt;  Preparing: UPDATE sys_user SET AGE=? WHERE id=? 
==&gt; Parameters: 21(Integer), 5(Long)
&lt;==    Updates: 1
</code></pre>
<h3 id="33-åˆ é™¤æ“ä½œ">3.3 åˆ é™¤æ“ä½œ</h3>
<h4 id="331-deletebyid">3.3.1 deleteById</h4>
<pre><code class="language-java">/**
 * æ ¹æ® ID åˆ é™¤
 * @param id ä¸»é”®ID
 */
int deleteById(Serializable id);
</code></pre>
<h4 id="332-æµ‹è¯•ç”¨ä¾‹">3.3.2 æµ‹è¯•ç”¨ä¾‹</h4>
<pre><code class="language-java">	@Test
    public void testDeleteById() {
        //æ‰§è¡Œåˆ é™¤æ“ä½œ
        int result = this.userMapper.deleteById(6L);
        System.out.println(&quot;result = &quot; + result);
    }
}
</code></pre>
<p>æµ‹è¯•ç»“æœï¼š</p>
<pre><code class="language-shell">JDBC Connection [HikariProxyConnection@103068963 wrapping com.mysql.cj.jdbc.ConnectionImpl@50b46e24] will not be managed by Spring
==&gt;  Preparing: DELETE FROM sys_user WHERE id=? 
==&gt; Parameters: 5(Long)
&lt;==    Updates: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5934ca1e]
result = 1
</code></pre>
<h4 id="333-æ‰¹é‡åˆ é™¤">3.3.3 æ‰¹é‡åˆ é™¤</h4>
<pre><code class="language-java">	@Test 
    public void testDeleteByIds() { 
        //æ ¹æ®idé›†åˆæ‰¹é‡åˆ é™¤ 
        int result = this.userMapper.deleteBatchIds(Arrays.asList(1L,10L,20L));
        System.out.println(&quot;result = &quot; + result); 
    }
</code></pre>
<h3 id="34-æŸ¥è¯¢æ“ä½œ">3.4 æŸ¥è¯¢æ“ä½œ</h3>
<p>MPæä¾›äº†å¤šç§æŸ¥è¯¢æ“ä½œï¼ŒåŒ…æ‹¬æ ¹æ®idæŸ¥è¯¢ã€æ‰¹é‡æŸ¥è¯¢ã€æŸ¥è¯¢å•æ¡æ•°æ®ã€æŸ¥è¯¢åˆ—è¡¨ã€åˆ†é¡µæŸ¥è¯¢ç­‰æ“ä½œã€‚</p>
<h4 id="341-selectbyid">3.4.1 selectById</h4>
<pre><code class="language-java">/**
 * æ ¹æ®IDæŸ¥è¯¢
 * @param id ä¸»é”®ID
 */
T selectById(Serializable id);
</code></pre>
<h4 id="342-æµ‹è¯•ç”¨ä¾‹">3.4.2 æµ‹è¯•ç”¨ä¾‹</h4>
<pre><code class="language-java">    @Test
    public void testSelectById() {
        //æ ¹æ®idæŸ¥è¯¢æ•°æ®
        User user = this.userMapper.selectById(2L);
        System.out.println(&quot;result = &quot; + user);
    }
}
</code></pre>
<p>æµ‹è¯•ç»“æœï¼š</p>
<pre><code class="language-shell">JDBC Connection [HikariProxyConnection@1317052417 wrapping com.mysql.cj.jdbc.ConnectionImpl@624b523] will not be managed by Spring
==&gt;  Preparing: SELECT id,USER_NAME,NAME,AGE FROM sys_user WHERE id=? 
==&gt; Parameters: 2(Long)
&lt;==    Columns: id, USER_NAME, NAME, AGE
&lt;==        Row: 2, lisi, æå››, 20
&lt;==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cbc5693]
result = User(id=2, userName=lisi, name=æå››, age=20)
</code></pre>
<h2 id="4-æ¡ä»¶æ„é€ å™¨">4 æ¡ä»¶æ„é€ å™¨</h2>
<pre><code>åœ¨å¢åˆ æ”¹æŸ¥ä¸­ï¼Œæœ€å¤æ‚çš„å°±æ˜¯å¸¦æœ‰å„ç§æ¡ä»¶çš„æ“ä½œã€‚åœ¨MPä¸­ï¼Œä¸“é—¨é’ˆå¯¹sqlæ¡ä»¶è¿›è¡Œäº†å°è£…ï¼Œæä¾›äº†å„ç§Wrapperæ¥å£åŠå…¶å®ç°ç±»ã€‚XxxWrapperç±»æä¾›äº†å„ç§æ–¹æ³•æ¥å°è£…sqlæ¡ä»¶ã€‚
</code></pre>
<figure data-type="image" tabindex="3"><img src="http://blog.ludangxin.club/post-images/1597929075718.png" alt="" loading="lazy"></figure>
<p>MPæä¾›äº†å„ç§æ–¹æ³•ç”¨æ¥æ”¯æŒå¸¦æœ‰æ¡ä»¶çš„æŸ¥è¯¢æ–¹æ³•ã€ä¿®æ”¹æ–¹æ³•å’Œåˆ é™¤æ–¹æ³•ï¼š</p>
<pre><code class="language-java">/**
æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•
@param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸ºnullï¼‰
*/
T selectOne(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);

/**
æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢æ€»è®°å½•æ•°
@param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸ºnullï¼‰
*/
Integer selectCount(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);

/**
æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•
@param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸ºnullï¼‰
*/
List&lt;T&gt; selectList(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);
</code></pre>
<p>ä¸‹é¢æˆ‘ä»¬ä»¥æŸ¥è¯¢æ–¹æ³•ä¸ºä¾‹å­¦ä¹ æ¡ä»¶æ„é€ å™¨çš„å…·ä½“ç”¨æ³•ã€‚</p>
<h3 id="41-æ¯”è¾ƒæ“ä½œ">4.1 æ¯”è¾ƒæ“ä½œ</h3>
<ul>
<li>eq
<ul>
<li>ç­‰äº =</li>
</ul>
</li>
<li>ne
<ul>
<li>ä¸ç­‰äº &lt;&gt;</li>
</ul>
</li>
<li>gt
<ul>
<li>å¤§äº &gt;</li>
</ul>
</li>
<li>ge
<ul>
<li>å¤§äºç­‰äº &gt;=</li>
</ul>
</li>
<li>lt
<ul>
<li>å°äº &lt;</li>
</ul>
</li>
<li>le
<ul>
<li>å°äºç­‰äº &lt;=</li>
</ul>
</li>
<li>between
<ul>
<li>BETWEEN å€¼1 AND å€¼2</li>
</ul>
</li>
<li>notBetween
<ul>
<li>NOT BETWEEN å€¼1 AND å€¼2</li>
</ul>
</li>
<li>in
<ul>
<li>å­—æ®µ IN (value.get(0), value.get(1), ...)</li>
</ul>
</li>
<li>notIn
<ul>
<li>å­—æ®µ NOT IN (v0, v1, ...)</li>
</ul>
</li>
</ul>
<p>æµ‹è¯•ç”¨ä¾‹ï¼š</p>
<pre><code class="language-java">    @Test
    public void testEq() {
        QueryWrapper&lt;User&gt; wrapper = new QueryWrapper&lt;&gt;();

        //SELECT id,user_name,name,age FROM sys_user WHERE 
        // AND age &gt;= ? AND name IN (?,?,?)
        wrapper.ge(&quot;age&quot;, 20)
               .in(&quot;name&quot;, &quot;æå››&quot;, &quot;ç‹äº”&quot;, &quot;èµµå…­&quot;);

        List&lt;User&gt; users = this.userMapper.selectList(wrapper);
        for (User user : users) {
            System.out.println(user);
        }
    }
}
</code></pre>
<p>æµ‹è¯•ç»“æœ:</p>
<pre><code class="language-shell">JDBC Connection [HikariProxyConnection@525275084 wrapping com.mysql.cj.jdbc.ConnectionImpl@46c10083] will not be managed by Spring
==&gt;  Preparing: SELECT id,USER_NAME,NAME,AGE FROM sys_user WHERE age &gt;= ? AND name IN (?,?,?) 
==&gt; Parameters: 20(Integer), æå››(String), ç‹äº”(String), èµµå…­(String)
&lt;==    Columns: id, USER_NAME, NAME, AGE
&lt;==        Row: 2, lisi, æå››, 20
&lt;==        Row: 3, wangwu, ç‹äº”, 28
&lt;==        Row: 4, zhaoliu, èµµå…­, 21
&lt;==      Total: 3
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61149fa5]
User(id=2, userName=lisi, name=æå››, age=20)
User(id=3, userName=wangwu, name=ç‹äº”, age=28)
User(id=4, userName=zhaoliu, name=èµµå…­, age=21)
</code></pre>
<h3 id="42-æ¨¡ç³ŠæŸ¥è¯¢">4.2 æ¨¡ç³ŠæŸ¥è¯¢</h3>
<ul>
<li>like
<ul>
<li>LIKE '%å€¼%'</li>
<li>ä¾‹: <code>like(&quot;name&quot;, &quot;ç‹&quot;)</code>---&gt;<code>name like '%ç‹%'</code></li>
</ul>
</li>
<li>notLike
<ul>
<li>NOT LIKE '%å€¼%'</li>
<li>ä¾‹: <code>notLike(&quot;name&quot;, &quot;ç‹&quot;)</code>---&gt;<code>name not like '%ç‹%'</code></li>
</ul>
</li>
<li>likeLeft
<ul>
<li>LIKE '%å€¼'</li>
<li>ä¾‹: <code>likeLeft(&quot;name&quot;, &quot;ç‹&quot;)</code>---&gt;<code>name like '%ç‹'</code></li>
</ul>
</li>
<li>likeRight
<ul>
<li>LIKE 'å€¼%'</li>
<li>ä¾‹: <code>likeRight(&quot;name&quot;, &quot;ç‹&quot;)</code>---&gt;<code>name like 'ç‹%'</code></li>
</ul>
</li>
</ul>
<p>æµ‹è¯•ç”¨ä¾‹ï¼š</p>
<pre><code class="language-java">    @Test
    public void testLike() {
        QueryWrapper&lt;User&gt; wrapper = new QueryWrapper&lt;&gt;();

        //SELECT id,user_name,name,age FROM sys_user WHERE name LIKE ?
        //Parameters: %æ›¹%(String)
        wrapper.like(&quot;name&quot;, &quot;æ›¹&quot;);

        List&lt;User&gt; users = this.userMapper.selectList(wrapper);
        for (User user : users) {
            System.out.println(user);
        }
    }
}
</code></pre>
<h3 id="43-æ’åº">4.3 æ’åº</h3>
<ul>
<li>orderBy
<ul>
<li>æ’åºï¼šORDER BY å­—æ®µ, ...</li>
<li>ä¾‹: <code>orderBy(true, true, &quot;id&quot;, &quot;name&quot;)</code>---&gt;<code>order by id ASC,name ASC</code></li>
</ul>
</li>
<li>orderByAsc
<ul>
<li>æ’åºï¼šORDER BY å­—æ®µ, ... ASC</li>
<li>ä¾‹: <code>orderByAsc(&quot;id&quot;, &quot;name&quot;)</code>---&gt;<code>order by id ASC,name ASC</code></li>
</ul>
</li>
<li>orderByDesc
<ul>
<li>æ’åºï¼šORDER BY å­—æ®µ, ... DESC</li>
<li>ä¾‹: <code>orderByDesc(&quot;id&quot;, &quot;name&quot;)</code>---&gt;<code>order by id DESC,name DESC</code></li>
</ul>
</li>
</ul>
<p>æµ‹è¯•ç”¨ä¾‹ï¼š</p>
<pre><code class="language-java">    @Test
    public void testOrderByAgeDesc() {
        QueryWrapper&lt;User&gt; wrapper = new QueryWrapper&lt;&gt;();

        //SELECT id,user_name,name,age FROM sys_user ORDER BY age DESC
        wrapper.orderByDesc(&quot;age&quot;);

        List&lt;User&gt; users = this.userMapper.selectList(wrapper);
        for (User user : users) {
            System.out.println(user);
        }
    }
}
</code></pre>
<h3 id="44-é€»è¾‘æŸ¥è¯¢">4.4 é€»è¾‘æŸ¥è¯¢</h3>
<ul>
<li>or
<ul>
<li>æ‹¼æ¥ OR</li>
<li>ä¸»åŠ¨è°ƒç”¨<code>or</code>è¡¨ç¤ºç´§æ¥ç€ä¸‹ä¸€ä¸ª<strong>æ–¹æ³•</strong>ä¸æ˜¯ç”¨<code>and</code>è¿æ¥!(ä¸è°ƒç”¨<code>or</code>åˆ™é»˜è®¤ä¸ºä½¿ç”¨<code>and</code>è¿æ¥)</li>
</ul>
</li>
<li>and
<ul>
<li>AND åµŒå¥—</li>
<li>ä¾‹: <code>and(i -&gt; i.eq(&quot;name&quot;, &quot;æç™½&quot;).ne(&quot;status&quot;, &quot;æ´»ç€&quot;))</code>---&gt;<code>and (name = 'æç™½' and status &lt;&gt; 'æ´»ç€')</code></li>
</ul>
</li>
</ul>
<p>æµ‹è¯•ç”¨ä¾‹ï¼š</p>
<pre><code class="language-java">	@Test
    public void testOr() {
        QueryWrapper&lt;User&gt; wrapper = new QueryWrapper&lt;&gt;();

        //SELECT id,user_name,name,age FROM sys_user WHERE 
        //name = ? OR age = ?
        wrapper.eq(&quot;name&quot;,&quot;æå››&quot;).or().eq(&quot;age&quot;, 24);

        List&lt;User&gt; users = this.userMapper.selectList(wrapper);
        for (User user : users) {
            System.out.println(user);
        }
    }
}
</code></pre>
<pre><code class="language-java">	@Test
    public void testAnd() {
        QueryWrapper&lt;User&gt; wrapper = new QueryWrapper&lt;&gt;();

        //SELECT id,USER_NAME,NAME,AGE FROM sys_user WHERE age = ? AND ( name = ? OR user_Name = ? ) 
        wrapper.eq(&quot;age&quot;, 20)
        .and(obj -&gt; obj.eq(&quot;name&quot;,&quot;æå››&quot;).or().eq(&quot;user_name&quot;, &quot;ç‹äº”&quot;));

        List&lt;User&gt; users = this.userMapper.selectList(wrapper);
        for (User user : users) {
            System.out.println(user);
        }
    }
</code></pre>
<h3 id="45-åˆ†é¡µæŸ¥è¯¢">4.5 åˆ†é¡µæŸ¥è¯¢</h3>
<p>selectPageæ–¹æ³•ï¼š</p>
<pre><code class="language-java">/**
 * æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•ï¼ˆå¹¶ç¿»é¡µï¼‰
 * @param page         åˆ†é¡µæŸ¥è¯¢æ¡ä»¶ï¼ˆå¯ä»¥ä¸º RowBounds.DEFAULTï¼‰
 * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰
 */
IPage&lt;T&gt; selectPage(IPage&lt;T&gt; page, @Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);
</code></pre>
<p>é…ç½®åˆ†é¡µæ’ä»¶ï¼š</p>
<pre><code class="language-java">import com.baomidou.mybatisplus.extension.plugins.PaginationInterceptor;
import org.mybatis.spring.annotation.MapperScan;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class MybatisPlusConfig {

    /**
     * åˆ†é¡µæ’ä»¶
     */
    @Bean
    public PaginationInterceptor paginationInterceptor() {
        PaginationInterceptor paginationInterceptor = new PaginationInterceptor();
        // è®¾ç½®è¯·æ±‚çš„é¡µé¢å¤§äºæœ€å¤§é¡µåæ“ä½œï¼Œ trueè°ƒå›åˆ°é¦–é¡µï¼Œfalse ç»§ç»­è¯·æ±‚  é»˜è®¤false
        // paginationInterceptor.setOverflow(false);
        // è®¾ç½®æœ€å¤§å•é¡µé™åˆ¶æ•°é‡ï¼Œé»˜è®¤ 500 æ¡ï¼Œ-1 ä¸å—é™åˆ¶
        // paginationInterceptor.setLimit(500);
        // å¼€å¯ count çš„ join ä¼˜åŒ–,åªé’ˆå¯¹éƒ¨åˆ† left join
        paginationInterceptor.setCountSqlParser(new JsqlParserCountOptimize(true));
        return paginationInterceptor;
    }
}
</code></pre>
<p>æµ‹è¯•ç”¨ä¾‹ï¼š</p>
<pre><code class="language-java">    @Test
    public void testSelectPage() {
        QueryWrapper&lt;User&gt; wrapper = new QueryWrapper&lt;User&gt;();
        wrapper.gt(&quot;age&quot;, 20); //å¹´é¾„å¤§äº20å²

        Page&lt;User&gt; page = new Page&lt;&gt;(1,1);

        //æ ¹æ®æ¡ä»¶æŸ¥è¯¢æ•°æ®
        IPage&lt;User&gt; iPage = this.userMapper.selectPage(page, wrapper);
        System.out.println(&quot;æ•°æ®æ€»æ¡æ•°ï¼š&quot; + iPage.getTotal());
        System.out.println(&quot;æ€»é¡µæ•°ï¼š&quot; + iPage.getPages());

        List&lt;User&gt; users = iPage.getRecords();
        for (User user : users) {
            System.out.println(&quot;user = &quot; + user);
        }
    }
}
</code></pre>
<p>æµ‹è¯•ç»“æœ:</p>
<pre><code class="language-sh">JDBC Connection [HikariProxyConnection@1663774813 wrapping com.mysql.cj.jdbc.ConnectionImpl@44598ef7] will not be managed by Spring
JsqlParserCountOptimize sql=SELECT  id,USER_NAME,NAME,AGE  FROM sys_user WHERE age &gt; ?
==&gt;  Preparing: SELECT COUNT(1) FROM sys_user WHERE age &gt; ? 
==&gt; Parameters: 20(Integer)
&lt;==    Columns: COUNT(1)
&lt;==        Row: 3
==&gt;  Preparing: SELECT id,USER_NAME,NAME,AGE FROM sys_user WHERE age &gt; ? LIMIT ?,? 
==&gt; Parameters: 20(Integer), 0(Long), 1(Long)
&lt;==    Columns: id, USER_NAME, NAME, AGE
&lt;==        Row: 3, wangwu, ç‹äº”, 28
&lt;==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d4d979]
æ•°æ®æ€»æ¡æ•°ï¼š3
æ€»é¡µæ•°ï¼š3
user = User(id=3, userName=wangwu, name=ç‹äº”, age=28)
</code></pre>
<h3 id="46-ä¿®æ”¹å’Œåˆ é™¤">4.6 ä¿®æ”¹å’Œåˆ é™¤</h3>
<pre><code>å‰é¢éƒ½æ˜¯ä»¥æŸ¥è¯¢ä¸ºä¾‹è®²è§£æ¡ä»¶æ„é€ å™¨ï¼Œé‚£ä¹ˆåœ¨è¿›è¡Œä¿®æ”¹å’Œåˆ é™¤æ“ä½œæ—¶ä¹Ÿå¯ä»¥å¸¦æ¡ä»¶ï¼Œå’ŒæŸ¥è¯¢åŸºæœ¬ä¸€æ ·ï¼Œè¿™é‡Œä¸å†è®²è§£ï¼Œåé¢ç”¨åˆ°æ—¶å†è¯´ã€‚
</code></pre>
<pre><code class="language-java">/**
æ ¹æ®wrapperå°è£…çš„æ¡ä»¶è¿›è¡Œæ›´æ–°æ“ä½œ
*/
int delete(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; wrapper);

/**
æ ¹æ®wrapperå°è£…çš„æ¡ä»¶è¿›è¡Œåˆ é™¤æ“ä½œ
*/
int update(@Param(&quot;et&quot;) T entity, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; updateWrapper);
</code></pre>
<h3 id="47-lambda">4.7  lambda</h3>
<p>â€‹	è·å– <code>LambdaWrapper</code><br>
â€‹	åœ¨<code>QueryWrapper</code>ä¸­æ˜¯è·å–<code>LambdaQueryWrapper</code><br>
â€‹	åœ¨<code>UpdateWrapper</code>ä¸­æ˜¯è·å–<code>LambdaUpdateWrapper</code></p>
<p>â€‹	<strong>å¼ºçƒˆä½¿ç”¨lambdaè¡¨è¾¾å¼æ„å»ºwrapperï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™</strong></p>
<h4 id="471-æµ‹è¯•ç”¨ä¾‹">4.7.1 æµ‹è¯•ç”¨ä¾‹</h4>
<pre><code class="language-java">	@Test
    public void testLambdaSelect(){
        LambdaQueryWrapper lambdaQueryWrapper = new LambdaQueryWrapper&lt;User&gt;().eq(User::getUserName,&quot;zhangsan&quot;);
        //QueryWrapper&lt;User&gt; queryWrapper = new QueryWrapper&lt;&gt;();
        //queryWrapper.lambda().eq(User::getName, &quot;zhangsan&quot;);
        int result = this.userMapper.selectCount(lambdaQueryWrapper);
        System.out.println(&quot;result = &quot; + result);
    }
</code></pre>
<h2 id="5-mybatis-plusçš„serviceå°è£…">5 Mybatis-Plusçš„Serviceå°è£…</h2>
<pre><code>Mybatis-Plusä¸ºäº†å¼€å‘æ›´åŠ å¿«æ·ï¼Œå¯¹ä¸šåŠ¡å±‚ä¹Ÿè¿›è¡Œäº†å°è£…ï¼Œç›´æ¥æä¾›äº†ç›¸å…³çš„æ¥å£å’Œå®ç°ç±»ã€‚æˆ‘ä»¬åœ¨è¿›è¡Œä¸šåŠ¡å±‚å¼€å‘æ—¶ï¼Œå¯ä»¥ç»§æ‰¿å®ƒæä¾›çš„æ¥å£å’Œå®ç°ç±»ï¼Œä½¿å¾—ç¼–ç æ›´åŠ é«˜æ•ˆã€‚
</code></pre>
<ol>
<li>
<p>com.baomidou.mybatisplus.extension.service.IServiceæ¥å£</p>
<p>è¯¥æ¥å£æ˜¯ä¸€ä¸ªæ³›å‹æ¥å£ï¼Œé‡Œé¢æä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼ŒåŒ…æ‹¬åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥ã€‚<br>
<img src="http://blog.ludangxin.club/post-images/1597929094373.png" alt="" loading="lazy"></p>
</li>
<li>
<p>com.baomidou.mybatisplus.extension.service.impl.ServiceImplç±»</p>
<p>è¯¥ç±»å®ç°äº†ä¸Šé¢æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•ã€‚</p>
</li>
<li>
<p>æµ‹è¯•ç”¨ä¾‹</p>
<p>1ï¼‰è‡ªå®šä¹‰ä¸šåŠ¡å±‚æ¥å£ï¼Œç»§æ‰¿IServiceï¼š</p>
<pre><code class="language-java">public interface UserService extends IService&lt;User&gt; {

}
</code></pre>
<p>2ï¼‰è‡ªå®šä¹‰ä¸šåŠ¡å±‚å®ç°ç±»ï¼Œç»§æ‰¿ServiceImplï¼š</p>
<pre><code class="language-java">@Service
public class UserServiceImpl extends ServiceImpl&lt;UserMapper,User&gt; implements UserService {

}
</code></pre>
<p>3ï¼‰æµ‹è¯•ç±»ï¼š</p>
<pre><code class="language-java">@RunWith(SpringRunner.class)
@SpringBootTest
public class TestUserService {
    @Autowired
    private UserService userService;

    @Test
    public void testInsert() {
        User user = new User();
        user.setAge(301);
        user.setUserName(&quot;caocao1&quot;);
        user.setName(&quot;æ›¹æ“1&quot;);

        userService.save(user);

        //è·å–è‡ªå¢é•¿åçš„idå€¼, è‡ªå¢é•¿åçš„idå€¼ä¼šå›å¡«åˆ°userå¯¹è±¡ä¸­
        System.out.println(&quot;id =&gt; &quot; + user.getId());
    }

    @Test
    public void testSelectById() {
        User user = userService.getById(2);
        System.out.println(user);
    }

    @Test
    public void testUpdateById() {
        User user = new User();
        user.setId(1L); //æ¡ä»¶ï¼Œæ ¹æ®idæ›´æ–°
        user.setAge(19); //æ›´æ–°çš„å­—æ®µ

        userService.updateById(user);
    }

    @Test
    public void testDeleteById(){
        // æ ¹æ®idåˆ é™¤æ•°æ®
        userService.removeById(2L);
    }

}
</code></pre>
</li>
</ol>
<h2 id="6-oracle-ä¸»é”®-sequence">6 oracle ä¸»é”® Sequence</h2>
<p>åœ¨mysqlä¸­ï¼Œä¸»é”®å¾€å¾€æ˜¯è‡ªå¢é•¿çš„ï¼Œè¿™æ ·ä½¿ç”¨èµ·æ¥æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯Oracleæ•°æ®åº“ï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨è‡ªå¢é•¿äº†ï¼Œå°±å¾—ä½¿ç”¨Sequence åºåˆ—ç”Ÿæˆidå€¼äº†ã€‚</p>
<h3 id="61ä¿®æ”¹applicationproperties">6.1ä¿®æ”¹application.properties</h3>
<pre><code class="language-yaml">mybatis-plus:
  # è®¾ç½®Mapperæ¥å£æ‰€å¯¹åº”çš„XMLæ–‡ä»¶ä½ç½®ï¼Œå¦‚æœä½ åœ¨Mapperæ¥å£ä¸­æœ‰è‡ªå®šä¹‰æ–¹æ³•ï¼Œéœ€è¦è¿›è¡Œè¯¥é…ç½®
  mapper-locations: classpath*:mybatis/*.xml
  # è®¾ç½®åˆ«ååŒ…æ‰«æè·¯å¾„ï¼Œé€šè¿‡è¯¥å±æ€§å¯ä»¥ç»™åŒ…ä¸­çš„ç±»æ³¨å†Œåˆ«å
  type-aliases-package: com.ludangxin.mp.pojo
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  # id ç”Ÿæˆç­–ç•¥
  global-config:
    db-config:
      id-type: input
</code></pre>
<h3 id="62-mybatisplusconfig-å¢åŠ åºåˆ—ç”Ÿæˆå™¨é…ç½®">6.2 MybatisPlusConfig å¢åŠ åºåˆ—ç”Ÿæˆå™¨é…ç½®</h3>
<pre><code class="language-java">/*** åºåˆ—ç”Ÿæˆå™¨ */ 
@Bean 
public OracleKeyGenerator oracleKeyGenerator(){ 
    return new OracleKeyGenerator();
}
</code></pre>
<h2 id="7-é€»è¾‘åˆ é™¤">7 é€»è¾‘åˆ é™¤</h2>
<p>å¼€å‘ç³»ç»Ÿæ—¶ï¼Œæœ‰æ—¶å€™åœ¨å®ç°åŠŸèƒ½æ—¶ï¼Œåˆ é™¤æ“ä½œéœ€è¦å®ç°é€»è¾‘åˆ é™¤ï¼Œæ‰€è°“é€»è¾‘åˆ é™¤å°±æ˜¯å°†æ•°æ®æ ‡è®°ä¸ºåˆ é™¤ï¼Œè€Œå¹¶éçœŸæ­£çš„ç‰©ç†åˆ é™¤ï¼ˆéDELETEæ“ä½œï¼‰ï¼ŒæŸ¥è¯¢æ—¶éœ€è¦æºå¸¦çŠ¶æ€æ¡ä»¶ï¼Œç¡®ä¿è¢«æ ‡è®°çš„æ•°æ®ä¸è¢«æŸ¥è¯¢åˆ°ã€‚è¿™æ ·åšçš„ç›®çš„å°±æ˜¯é¿å…æ•°æ®è¢«çœŸæ­£çš„åˆ é™¤ã€‚</p>
<h3 id="71-å¢åŠ å­—æ®µ">7.1 å¢åŠ å­—æ®µ</h3>
<pre><code class="language-sql">ALTER TABLE sys_user ADD COLUMN deleted int(1) NULL DEFAULT 0 COMMENT '1ä»£è¡¨åˆ é™¤ï¼Œ0ä»£è¡¨æœªåˆ é™¤';
</code></pre>
<h3 id="72-ä¿®æ”¹pojo">7.2 ä¿®æ”¹pojo</h3>
<pre><code class="language-java">@TableLogic 
private Integer deleted;
</code></pre>
<h3 id="73-ä¿®æ”¹applicationyml">7.3 ä¿®æ”¹application.yml</h3>
<pre><code class="language-yaml">mybatis-plus:
  # è®¾ç½®Mapperæ¥å£æ‰€å¯¹åº”çš„XMLæ–‡ä»¶ä½ç½®ï¼Œå¦‚æœä½ åœ¨Mapperæ¥å£ä¸­æœ‰è‡ªå®šä¹‰æ–¹æ³•ï¼Œéœ€è¦è¿›è¡Œè¯¥é…ç½®
  mapper-locations: classpath*:mybatis/*.xml
  # è®¾ç½®åˆ«ååŒ…æ‰«æè·¯å¾„ï¼Œé€šè¿‡è¯¥å±æ€§å¯ä»¥ç»™åŒ…ä¸­çš„ç±»æ³¨å†Œåˆ«å
  type-aliases-package: com.ludangxin.mp.pojo
  configuration:
    # æ§åˆ¶å°sqlæ‰“å°
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      # é€»è¾‘åˆ é™¤å€¼ä¸º1
      logic-delete-value: 1
      # é€»è¾‘æœªåˆ é™¤å€¼ä¸º 0
      logic-not-delete-value: 0
</code></pre>
<h3 id="74-æµ‹è¯•ç”¨ä¾‹">7.4 æµ‹è¯•ç”¨ä¾‹</h3>
<pre><code class="language-java">@Test
    public void testDeleteById2() {
        this.userMapper.deleteById(3L);
    }
</code></pre>
<h3 id="75-æµ‹è¯•ç»“æœ">7.5 æµ‹è¯•ç»“æœ</h3>
<pre><code class="language-shell">JDBC Connection [HikariProxyConnection@2098830440 wrapping com.mysql.cj.jdbc.ConnectionImpl@63411512] will not be managed by Spring
==&gt;  Preparing: UPDATE sys_user SET deleted=1 WHERE id=? AND deleted=0 
==&gt; Parameters: 3(Long)
&lt;==    Updates: 1
</code></pre>
<h2 id="8-ä¹è§‚é”">8   ä¹è§‚é”</h2>
<h3 id="ä¸»è¦é€‚ç”¨åœºæ™¯">ä¸»è¦é€‚ç”¨åœºæ™¯</h3>
<p>æ„å›¾ï¼š</p>
<p>å½“è¦æ›´æ–°ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå¸Œæœ›è¿™æ¡è®°å½•æ²¡æœ‰è¢«åˆ«äººæ›´æ–°</p>
<p>ä¹è§‚é”å®ç°æ–¹å¼ï¼š</p>
<ul>
<li>å–å‡ºè®°å½•æ—¶ï¼Œè·å–å½“å‰version</li>
<li>æ›´æ–°æ—¶ï¼Œå¸¦ä¸Šè¿™ä¸ªversion</li>
<li>æ‰§è¡Œæ›´æ–°æ—¶ï¼Œ set version = newVersion where version = oldVersion</li>
<li>å¦‚æœversionä¸å¯¹ï¼Œå°±æ›´æ–°å¤±è´¥</li>
</ul>
<p><strong>ä¹è§‚é”é…ç½®éœ€è¦2æ­¥ è®°å¾—ä¸¤æ­¥</strong></p>
<h3 id="81-å¢åŠ å­—æ®µ">8.1 å¢åŠ å­—æ®µ</h3>
<pre><code class="language-sql">ALTER TABLE `sys_user` ADD COLUMN `version` int(10) NULL COMMENT 'ä¹è§‚é”' ;
</code></pre>
<h3 id="82-ä¿®æ”¹pojo">8.2  ä¿®æ”¹pojo</h3>
<pre><code class="language-java">@Version 
private Integer version;
</code></pre>
<h3 id="83-å¢åŠ ä¹è§‚é”é…ç½®">8.3 å¢åŠ ä¹è§‚é”é…ç½®</h3>
<pre><code class="language-java">/**
 * ä¹è§‚é”é…ç½®
 * @return
*/
@Bean
public OptimisticLockerInterceptor optimisticLockerInterceptor() {
    return new OptimisticLockerInterceptor();
}
</code></pre>
<h3 id="84-æµ‹è¯•ç”¨ä¾‹">8.4 æµ‹è¯•ç”¨ä¾‹</h3>
<pre><code class="language-java">@Test
    public void testUpdate(){
        User user = new User();
        user.setAge(30);
        user.setId(2L);
        //è·å–åˆ°versionä¸º1
        user.setVersion(1);        
        int result = this.userMapper.updateById(user);
        System.out.println(&quot;result = &quot; + result); 
    }
</code></pre>
<h3 id="85-æµ‹è¯•ç»“æœ">8.5 æµ‹è¯•ç»“æœ</h3>
<pre><code class="language-shell">JDBC Connection [HikariProxyConnection@2032547119 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bc63e20] will not be managed by Spring
==&gt;  Preparing: UPDATE sys_user SET AGE=?, version=? WHERE id=? AND version=? AND deleted=0 
==&gt; Parameters: 30(Integer), 2(Integer), 2(Long), 1(Integer)
&lt;==    Updates: 0
</code></pre>
<p><strong>æ³¨:</strong> æ“ä½œè®°å½•æ•°ä¸º0è¯´æ˜å·²ç»æœ‰äººupdateäº†</p>
<h2 id="9-è‡ªåŠ¨å¡«å……åŠŸèƒ½">9 è‡ªåŠ¨å¡«å……åŠŸèƒ½</h2>
<p>ç¤ºä¾‹å·¥ç¨‹ï¼š</p>
<p>ğŸ‘‰ <a href="https://gitee.com/baomidou/mybatis-plus-samples/tree/master/mybatis-plus-sample-auto-fill-metainfo">mybatis-plus-sample-auto-fill-metainfo</a></p>
<h3 id="91-æ·»åŠ å­—æ®µ">9.1 æ·»åŠ å­—æ®µ</h3>
<pre><code class="language-sql">ALTER TABLE `sys_user` ADD COLUMN `create_by` VARCHAR(50) NULL COMMENT 'åˆ›å»ºäºº' ;
ALTER TABLE `sys_user` ADD COLUMN `update_by` VARCHAR(50) NULL COMMENT 'ä¿®æ”¹äºº' ;
</code></pre>
<h3 id="92-ä¿®æ”¹pojo">9.2 ä¿®æ”¹pojo</h3>
<pre><code class="language-java">@TableField(fill = FieldFill.INSERT)
private String createBy;
@TableField(fill = FieldFill.UPDATE)
private String updateBy;
</code></pre>
<h4 id="921-fieldfillæä¾›äº†å¤šç§æ¨¡å¼é€‰æ‹©">9.2.1 FieldFillæä¾›äº†å¤šç§æ¨¡å¼é€‰æ‹©</h4>
<pre><code class="language-java">public enum FieldFill {
    /**
     * é»˜è®¤ä¸å¤„ç†
     */
    DEFAULT,
    /**
     * æ’å…¥å¡«å……å­—æ®µ
     */
    INSERT,
    /**
     * æ›´æ–°å¡«å……å­—æ®µ
     */
    UPDATE,
    /**
     * æ’å…¥å’Œæ›´æ–°å¡«å……å­—æ®µ
     */
    INSERT_UPDATE
}
</code></pre>
<ul>
<li>è‡ªå®šä¹‰å®ç°ç±» MyMetaObjectHandler</li>
</ul>
<pre><code class="language-java">import com.baomidou.mybatisplus.core.handlers.MetaObjectHandler;
import lombok.extern.slf4j.Slf4j;
import org.apache.ibatis.reflection.MetaObject;
import org.springframework.stereotype.Component;

@Slf4j
@Component
public class MyMetaObjectHandler implements MetaObjectHandler {

    @Override
    public void insertFill(MetaObject metaObject) {
//            Object createTime = getFieldValByName(&quot;createTime&quot;, metaObject);
//            //å­—æ®µä¸ºç©ºï¼Œå¯ä»¥è¿›è¡Œå¡«å……
//            if (null == createTime) {
//                setFieldValByName(&quot;createTime&quot;, LocalDateTime.now(), metaObject);
//            }
            log.info(&quot;start insert fill ....&quot;);
            this.strictInsertFill(metaObject, &quot;createBy&quot;, String.class, this.getUserId());
        }

        @Override
        public void updateFill (MetaObject metaObject){
            log.info(&quot;start update fill ....&quot;);
            this.strictUpdateFill(metaObject, &quot;updateBy&quot;, String.class, this.getUserId());
        }

        private String getUserId() {
            return &quot;001&quot;;
        }
}
</code></pre>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>å¡«å……åŸç†æ˜¯ç›´æ¥ç»™<code>entity</code>çš„å±æ€§è®¾ç½®å€¼!!!</li>
<li>æ³¨è§£åˆ™æ˜¯æŒ‡å®šè¯¥å±æ€§åœ¨å¯¹åº”æƒ…å†µä¸‹å¿…æœ‰å€¼,å¦‚æœæ— å€¼åˆ™å…¥åº“ä¼šæ˜¯<code>null</code></li>
<li><code>MetaObjectHandler</code>æä¾›çš„é»˜è®¤æ–¹æ³•çš„ç­–ç•¥å‡ä¸º:å¦‚æœå±æ€§æœ‰å€¼åˆ™ä¸è¦†ç›–,å¦‚æœå¡«å……å€¼ä¸º<code>null</code>åˆ™ä¸å¡«å……</li>
<li>å­—æ®µå¿…é¡»å£°æ˜<code>TableField</code>æ³¨è§£,å±æ€§<code>fill</code>é€‰æ‹©å¯¹åº”ç­–ç•¥,è¯¥å£°æ˜å‘ŠçŸ¥<code>Mybatis-Plus</code>éœ€è¦é¢„ç•™æ³¨å…¥<code>SQL</code>å­—æ®µ</li>
<li>å¡«å……å¤„ç†å™¨<code>MyMetaObjectHandler</code>åœ¨ Spring Boot ä¸­éœ€è¦å£°æ˜<code>@Component</code>æˆ–<code>@Bean</code>æ³¨å…¥</li>
<li>è¦æƒ³æ ¹æ®æ³¨è§£<code>FieldFill.xxx</code>å’Œ<code>å­—æ®µå</code>ä»¥åŠ<code>å­—æ®µç±»å‹</code>æ¥åŒºåˆ†å¿…é¡»ä½¿ç”¨çˆ¶ç±»çš„<code>strictInsertFill</code>æˆ–è€…<code>strictUpdateFill</code>æ–¹æ³•</li>
<li>ä¸éœ€è¦æ ¹æ®ä»»ä½•æ¥åŒºåˆ†å¯ä»¥ä½¿ç”¨çˆ¶ç±»çš„<code>fillStrategy</code>æ–¹æ³•</li>
</ul>
<h3 id="93-æ‰§è¡Œæ–°å¢æ“ä½œæ—¥å¿—">9.3 æ‰§è¡Œæ–°å¢æ“ä½œæ—¥å¿—</h3>
<pre><code class="language-shell">JDBC Connection [HikariProxyConnection@897358809 wrapping com.mysql.cj.jdbc.ConnectionImpl@7aea704c] will not be managed by Spring
==&gt;  Preparing: INSERT INTO sys_user ( USER_NAME, NAME, AGE, create_by ) VALUES ( ?, ?, ?, ? ) 
==&gt; Parameters: caocao(String), æ›¹æ“(String), 301(Integer), 001(String)
&lt;==    Updates: 1
</code></pre>
<h2 id="10-å¤šæ•°æ®æºé…ç½®">10 å¤šæ•°æ®æºé…ç½®</h2>
<h3 id="ç®€ä»‹">ç®€ä»‹</h3>
<p>dynamic-datasource-spring-boot-starter æ˜¯ä¸€ä¸ªåŸºäºspringbootçš„å¿«é€Ÿé›†æˆå¤šæ•°æ®æºçš„å¯åŠ¨å™¨ã€‚</p>
<p>å…¶æ”¯æŒ <strong>Jdk 1.7+, SpringBoot 1.4.x 1.5.x 2.x.x</strong>ã€‚</p>
<p><strong>ç¤ºä¾‹é¡¹ç›®</strong> å¯å‚è€ƒé¡¹ç›®ä¸‹çš„samplesç›®å½•ã€‚</p>
<h3 id="ç‰¹æ€§">ç‰¹æ€§</h3>
<ol>
<li>æ”¯æŒ <strong>æ•°æ®æºåˆ†ç»„</strong> ï¼Œé€‚ç”¨äºå¤šç§åœºæ™¯ çº¯ç²¹å¤šåº“ è¯»å†™åˆ†ç¦» ä¸€ä¸»å¤šä» æ··åˆæ¨¡å¼ã€‚</li>
<li>æ”¯æŒæ•°æ®åº“æ•æ„Ÿé…ç½®ä¿¡æ¯ <strong>åŠ å¯†</strong> ENC()ã€‚</li>
<li>æ”¯æŒæ¯ä¸ªæ•°æ®åº“ç‹¬ç«‹åˆå§‹åŒ–è¡¨ç»“æ„schemaå’Œæ•°æ®åº“databaseã€‚</li>
<li>æ”¯æŒ <strong>è‡ªå®šä¹‰æ³¨è§£</strong> ï¼Œéœ€ç»§æ‰¿DS(3.2.0+)ã€‚</li>
<li>æä¾›å¯¹Druidï¼ŒMybatis-Plusï¼ŒP6syï¼ŒJndiçš„å¿«é€Ÿé›†æˆã€‚</li>
<li>ç®€åŒ–Druidå’ŒHikariCpé…ç½®ï¼Œæä¾› <strong>å…¨å±€å‚æ•°é…ç½®</strong> ã€‚é…ç½®ä¸€æ¬¡ï¼Œå…¨å±€é€šç”¨ã€‚</li>
<li>æä¾› <strong>è‡ªå®šä¹‰æ•°æ®æºæ¥æº</strong> æ–¹æ¡ˆã€‚</li>
<li>æä¾›é¡¹ç›®å¯åŠ¨å <strong>åŠ¨æ€å¢åŠ ç§»é™¤æ•°æ®æº</strong> æ–¹æ¡ˆã€‚</li>
<li>æä¾›Mybatisç¯å¢ƒä¸‹çš„ <strong>çº¯è¯»å†™åˆ†ç¦»</strong> æ–¹æ¡ˆã€‚</li>
<li>æä¾›ä½¿ç”¨ <strong>spelåŠ¨æ€å‚æ•°</strong> è§£ææ•°æ®æºæ–¹æ¡ˆã€‚å†…ç½®spelï¼Œsessionï¼Œheaderï¼Œæ”¯æŒè‡ªå®šä¹‰ã€‚</li>
<li>æ”¯æŒ <strong>å¤šå±‚æ•°æ®æºåµŒå¥—åˆ‡æ¢</strong> ã€‚ï¼ˆServiceA &gt;&gt;&gt; ServiceB &gt;&gt;&gt; ServiceCï¼‰ã€‚</li>
<li>æä¾›å¯¹shiroï¼Œsharding-jdbc,quartzç­‰ç¬¬ä¸‰æ–¹åº“é›†æˆçš„æ–¹æ¡ˆ,æ³¨æ„äº‹é¡¹å’Œç¤ºä¾‹ã€‚</li>
<li>æä¾› <strong>åŸºäºseataçš„åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆã€‚</strong> é™„ï¼šä¸æ”¯æŒåŸç”Ÿspringäº‹åŠ¡ã€‚</li>
</ol>
<h3 id="çº¦å®š">çº¦å®š</h3>
<ol>
<li>æœ¬æ¡†æ¶åªåš <strong>åˆ‡æ¢æ•°æ®æº</strong> è¿™ä»¶æ ¸å¿ƒçš„äº‹æƒ…ï¼Œå¹¶<strong>ä¸é™åˆ¶ä½ çš„å…·ä½“æ“ä½œ</strong>ï¼Œåˆ‡æ¢äº†æ•°æ®æºå¯ä»¥åšä»»ä½•CRUDã€‚</li>
<li>é…ç½®æ–‡ä»¶æ‰€æœ‰ä»¥ä¸‹åˆ’çº¿ <code>_</code> åˆ†å‰²çš„æ•°æ®æº <strong>é¦–éƒ¨</strong> å³ä¸ºç»„çš„åç§°ï¼Œç›¸åŒç»„åç§°çš„æ•°æ®æºä¼šæ”¾åœ¨ä¸€ä¸ªç»„ä¸‹ã€‚</li>
<li>åˆ‡æ¢æ•°æ®æºå¯ä»¥æ˜¯ç»„åï¼Œä¹Ÿå¯ä»¥æ˜¯å…·ä½“æ•°æ®æºåç§°ã€‚ç»„ååˆ™åˆ‡æ¢æ—¶é‡‡ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•åˆ‡æ¢ã€‚</li>
<li>é»˜è®¤çš„æ•°æ®æºåç§°ä¸º <strong>master</strong> ï¼Œä½ å¯ä»¥é€šè¿‡ <code>spring.datasource.dynamic.primary</code> ä¿®æ”¹ã€‚</li>
<li>æ–¹æ³•ä¸Šçš„æ³¨è§£ä¼˜å…ˆäºç±»ä¸Šæ³¨è§£ã€‚</li>
<li>å¼ºçƒˆå»ºè®®åªåœ¨serviceçš„ç±»å’Œæ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£ï¼Œä¸å»ºè®®åœ¨mapperä¸Šæ·»åŠ æ³¨è§£ã€‚</li>
</ol>
<h3 id="ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•</h3>
<ol>
<li>å¼•å…¥dynamic-datasource-spring-boot-starterã€‚</li>
</ol>
<pre><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
  &lt;artifactId&gt;dynamic-datasource-spring-boot-starter&lt;/artifactId&gt;
  &lt;version&gt;${version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ol>
<li>é…ç½®æ•°æ®æºã€‚</li>
</ol>
<pre><code class="language-yaml">spring:
  datasource:
    dynamic:
      primary: master #è®¾ç½®é»˜è®¤çš„æ•°æ®æºæˆ–è€…æ•°æ®æºç»„,é»˜è®¤å€¼å³ä¸ºmaster
      strict: false #è®¾ç½®ä¸¥æ ¼æ¨¡å¼,é»˜è®¤falseä¸å¯åŠ¨. å¯åŠ¨ååœ¨æœªåŒ¹é…åˆ°æŒ‡å®šæ•°æ®æºæ—¶å€™ä¼šæŠ›å‡ºå¼‚å¸¸,ä¸å¯åŠ¨åˆ™ä½¿ç”¨é»˜è®¤æ•°æ®æº.
      datasource:
        master:
          url: jdbc:mysql://xx.xx.xx.xx:3306/dynamic
          username: root
          password: 123456
          driver-class-name: com.mysql.jdbc.Driver # 3.2.0å¼€å§‹æ”¯æŒSPIå¯çœç•¥æ­¤é…ç½®
        slave_1:
          url: jdbc:mysql://xx.xx.xx.xx:3307/dynamic
          username: root
          password: 123456
          driver-class-name: com.mysql.jdbc.Driver
        slave_2:
          url: ENC(xxxxx) # å†…ç½®åŠ å¯†,ä½¿ç”¨è¯·æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£
          username: ENC(xxxxx)
          password: ENC(xxxxx)
          driver-class-name: com.mysql.jdbc.Driver
          schema: db/schema.sql # é…ç½®åˆ™ç”Ÿæ•ˆ,è‡ªåŠ¨åˆå§‹åŒ–è¡¨ç»“æ„
          data: db/data.sql # é…ç½®åˆ™ç”Ÿæ•ˆ,è‡ªåŠ¨åˆå§‹åŒ–æ•°æ®
          continue-on-error: true # é»˜è®¤true,åˆå§‹åŒ–å¤±è´¥æ˜¯å¦ç»§ç»­
          separator: &quot;;&quot; # sqlé»˜è®¤åˆ†å·åˆ†éš”ç¬¦
          
       #......çœç•¥
       #ä»¥ä¸Šä¼šé…ç½®ä¸€ä¸ªé»˜è®¤åº“masterï¼Œä¸€ä¸ªç»„slaveä¸‹æœ‰ä¸¤ä¸ªå­åº“slave_1,slave_2
# å¤šä¸»å¤šä»                      çº¯ç²¹å¤šåº“ï¼ˆè®°å¾—è®¾ç½®primaryï¼‰                   æ··åˆé…ç½®
spring:                               spring:                               spring:
  datasource:                           datasource:                           datasource:
    dynamic:                              dynamic:                              dynamic:
      datasource:                           datasource:                           datasource:
        master_1:                             mysql:                                master:
        master_2:                             oracle:                               slave_1:
        slave_1:                              sqlserver:                            slave_2:
        slave_2:                              postgresql:                           oracle_1:
        slave_3:                              h2:                                   oracle_2:
</code></pre>
<ol>
<li>ä½¿ç”¨ <strong>@DS</strong> åˆ‡æ¢æ•°æ®æºã€‚</li>
</ol>
<p><strong>@DS</strong> å¯ä»¥æ³¨è§£åœ¨æ–¹æ³•ä¸Šå’Œç±»ä¸Šï¼Œ<strong>åŒæ—¶å­˜åœ¨æ–¹æ³•æ³¨è§£ä¼˜å…ˆäºç±»ä¸Šæ³¨è§£</strong>ã€‚</p>
<p>å¼ºçƒˆå»ºè®®åªæ³¨è§£åœ¨serviceå®ç°ä¸Šã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:center">æ³¨è§£</th>
<th style="text-align:center">ç»“æœ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">æ²¡æœ‰@DS</td>
<td style="text-align:center">é»˜è®¤æ•°æ®æº</td>
</tr>
<tr>
<td style="text-align:center">@DS(&quot;dsName&quot;)</td>
<td style="text-align:center">dsNameå¯ä»¥ä¸ºç»„åä¹Ÿå¯ä»¥ä¸ºå…·ä½“æŸä¸ªåº“çš„åç§°</td>
</tr>
</tbody>
</table>
<pre><code class="language-java">@Service
@DS(&quot;slave&quot;)
public class UserServiceImpl implements UserService {

  @Autowired
  private JdbcTemplate jdbcTemplate;

  public List selectAll() {
    return  jdbcTemplate.queryForList(&quot;select * from user&quot;);
  }
  
  @Override
  @DS(&quot;slave_1&quot;)
  public List selectByCondition() {
    return  jdbcTemplate.queryForList(&quot;select * from user where age &gt;10&quot;);
  }
}
</code></pre>
<hr>
<p><a href="https://baomidou.com/guide/dynamic-datasource.html#%E8%B5%B6%E7%B4%A7%E9%9B%86%E6%88%90%E4%BD%93%E9%AA%8C%E4%B8%80%E4%B8%8B%E5%90%A7%EF%BC%81-%E5%A6%82%E6%9E%9C%E9%9C%80%E8%A6%81%E6%9B%B4%E5%A4%9A%E5%8A%9F%E8%83%BD%E8%AF%B7%E7%82%B9%E5%87%BB%E4%B8%8B%E9%9D%A2%E9%93%BE%E6%8E%A5%E6%9F%A5%E7%9C%8B%E8%AF%A6%E7%BB%86%E6%96%87%E6%A1%A3%EF%BC%81">#</a>èµ¶ç´§é›†æˆä½“éªŒä¸€ä¸‹å§ï¼ å¦‚æœéœ€è¦æ›´å¤šåŠŸèƒ½è¯·ç‚¹å‡»ä¸‹é¢é“¾æ¥æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼</p>
<hr>
<p><a href="https://github.com/baomidou/dynamic-datasource-spring-boot-starter/wiki/FAQ">å¸¸è§é—®é¢˜è¯·ç‚¹æˆ‘</a> <a href="https://github.com/baomidou/dynamic-datasource-spring-boot-starter/wiki">åˆ†å¸ƒå¼äº‹åŠ¡ï¼ŒåŠ å¯†,Druidé›†æˆï¼ŒMybatisPlusé›†æˆï¼ŒåŠ¨æ€å¢å‡æ•°æ®æºï¼Œè‡ªå®šä¹‰åˆ‡æ¢è§„åˆ™,çº¯è¯»å†™åˆ†ç¦»æ’ä»¶ç­‰ç­‰æ›´å¤šæ›´ç»†è‡´çš„æ–‡æ¡£åœ¨è¿™é‡Œ</a></p>

                        </div>
                        
                            <div class="post-toc">
                                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#1-mybatis-plus%E7%AE%80%E4%BB%8B">1 Mybatis-Plusç®€ä»‹</a>
<ul>
<li><a href="#11-%E7%AE%80%E4%BB%8B">1.1 ç®€ä»‹</a></li>
<li><a href="#12-%E7%89%B9%E6%80%A7">1.2 ç‰¹æ€§</a></li>
</ul>
</li>
<li><a href="#2-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8">2 å¿«é€Ÿå…¥é—¨</a>
<ul>
<li><a href="#21-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%8A%E8%A1%A8">2.1 åˆ›å»ºæ•°æ®åº“åŠè¡¨</a>
<ul>
<li><a href="#222-%E9%85%8D%E7%BD%AE-applicationyml">2.2.2 é…ç½® application.yml</a></li>
<li><a href="#223-%E7%BC%96%E5%86%99pojo">2.2.3 ç¼–å†™pojo</a></li>
<li><a href="#225-%E7%BC%96%E5%86%99mapper%E6%8E%A5%E5%8F%A3%E5%92%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">2.2.5 ç¼–å†™mapperæ¥å£å’Œé…ç½®æ–‡ä»¶</a></li>
<li><a href="#226-%E4%BF%AE%E6%94%B9%E5%90%AF%E5%8A%A8%E7%B1%BB">2.2.6 ä¿®æ”¹å¯åŠ¨ç±»</a></li>
<li><a href="#227-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B">2.2.7 ç¼–å†™æµ‹è¯•ç”¨ä¾‹</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#3-%E9%80%9A%E7%94%A8crud">3 é€šç”¨CRUD</a>
<ul>
<li><a href="#31-%E6%8F%92%E5%85%A5%E6%93%8D%E4%BD%9C">3.1 æ’å…¥æ“ä½œ</a>
<ul>
<li><a href="#311-insert%E6%96%B9%E6%B3%95">3.1.1 insertæ–¹æ³•</a></li>
<li><a href="#312-%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B">3.1.2 æµ‹è¯•ç”¨ä¾‹</a></li>
<li><a href="#313-%E4%B8%BB%E9%94%AE%E7%94%9F%E6%88%90%E7%AD%96%E7%95%A5">3.1.3 ä¸»é”®ç”Ÿæˆç­–ç•¥</a></li>
</ul>
</li>
<li><a href="#32-%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C">3.2 æ›´æ–°æ“ä½œ</a>
<ul>
<li><a href="#321-updatebyid%E6%96%B9%E6%B3%95">3.2.1 updateByIdæ–¹æ³•</a></li>
</ul>
</li>
<li><a href="#33-%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C">3.3 åˆ é™¤æ“ä½œ</a>
<ul>
<li><a href="#331-deletebyid">3.3.1 deleteById</a></li>
<li><a href="#332-%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B">3.3.2 æµ‹è¯•ç”¨ä¾‹</a></li>
<li><a href="#333-%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4">3.3.3 æ‰¹é‡åˆ é™¤</a></li>
</ul>
</li>
<li><a href="#34-%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C">3.4 æŸ¥è¯¢æ“ä½œ</a>
<ul>
<li><a href="#341-selectbyid">3.4.1 selectById</a></li>
<li><a href="#342-%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B">3.4.2 æµ‹è¯•ç”¨ä¾‹</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#4-%E6%9D%A1%E4%BB%B6%E6%9E%84%E9%80%A0%E5%99%A8">4 æ¡ä»¶æ„é€ å™¨</a>
<ul>
<li><a href="#41-%E6%AF%94%E8%BE%83%E6%93%8D%E4%BD%9C">4.1 æ¯”è¾ƒæ“ä½œ</a></li>
<li><a href="#42-%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2">4.2 æ¨¡ç³ŠæŸ¥è¯¢</a></li>
<li><a href="#43-%E6%8E%92%E5%BA%8F">4.3 æ’åº</a></li>
<li><a href="#44-%E9%80%BB%E8%BE%91%E6%9F%A5%E8%AF%A2">4.4 é€»è¾‘æŸ¥è¯¢</a></li>
<li><a href="#45-%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2">4.5 åˆ†é¡µæŸ¥è¯¢</a></li>
<li><a href="#46-%E4%BF%AE%E6%94%B9%E5%92%8C%E5%88%A0%E9%99%A4">4.6 ä¿®æ”¹å’Œåˆ é™¤</a></li>
<li><a href="#47-lambda">4.7  lambda</a>
<ul>
<li><a href="#471-%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B">4.7.1 æµ‹è¯•ç”¨ä¾‹</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#5-mybatis-plus%E7%9A%84service%E5%B0%81%E8%A3%85">5 Mybatis-Plusçš„Serviceå°è£…</a></li>
<li><a href="#6-oracle-%E4%B8%BB%E9%94%AE-sequence">6 oracle ä¸»é”® Sequence</a>
<ul>
<li><a href="#61%E4%BF%AE%E6%94%B9applicationproperties">6.1ä¿®æ”¹application.properties</a></li>
<li><a href="#62-mybatisplusconfig-%E5%A2%9E%E5%8A%A0%E5%BA%8F%E5%88%97%E7%94%9F%E6%88%90%E5%99%A8%E9%85%8D%E7%BD%AE">6.2 MybatisPlusConfig å¢åŠ åºåˆ—ç”Ÿæˆå™¨é…ç½®</a></li>
</ul>
</li>
<li><a href="#7-%E9%80%BB%E8%BE%91%E5%88%A0%E9%99%A4">7 é€»è¾‘åˆ é™¤</a>
<ul>
<li><a href="#71-%E5%A2%9E%E5%8A%A0%E5%AD%97%E6%AE%B5">7.1 å¢åŠ å­—æ®µ</a></li>
<li><a href="#72-%E4%BF%AE%E6%94%B9pojo">7.2 ä¿®æ”¹pojo</a></li>
<li><a href="#73-%E4%BF%AE%E6%94%B9applicationyml">7.3 ä¿®æ”¹application.yml</a></li>
<li><a href="#74-%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B">7.4 æµ‹è¯•ç”¨ä¾‹</a></li>
<li><a href="#75-%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C">7.5 æµ‹è¯•ç»“æœ</a></li>
</ul>
</li>
<li><a href="#8-%E4%B9%90%E8%A7%82%E9%94%81">8   ä¹è§‚é”</a>
<ul>
<li><a href="#%E4%B8%BB%E8%A6%81%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF">ä¸»è¦é€‚ç”¨åœºæ™¯</a></li>
<li><a href="#81-%E5%A2%9E%E5%8A%A0%E5%AD%97%E6%AE%B5">8.1 å¢åŠ å­—æ®µ</a></li>
<li><a href="#82-%E4%BF%AE%E6%94%B9pojo">8.2  ä¿®æ”¹pojo</a></li>
<li><a href="#83-%E5%A2%9E%E5%8A%A0%E4%B9%90%E8%A7%82%E9%94%81%E9%85%8D%E7%BD%AE">8.3 å¢åŠ ä¹è§‚é”é…ç½®</a></li>
<li><a href="#84-%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B">8.4 æµ‹è¯•ç”¨ä¾‹</a></li>
<li><a href="#85-%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C">8.5 æµ‹è¯•ç»“æœ</a></li>
</ul>
</li>
<li><a href="#9-%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85%E5%8A%9F%E8%83%BD">9 è‡ªåŠ¨å¡«å……åŠŸèƒ½</a>
<ul>
<li><a href="#91-%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%AE%B5">9.1 æ·»åŠ å­—æ®µ</a></li>
<li><a href="#92-%E4%BF%AE%E6%94%B9pojo">9.2 ä¿®æ”¹pojo</a>
<ul>
<li><a href="#921-fieldfill%E6%8F%90%E4%BE%9B%E4%BA%86%E5%A4%9A%E7%A7%8D%E6%A8%A1%E5%BC%8F%E9%80%89%E6%8B%A9">9.2.1 FieldFillæä¾›äº†å¤šç§æ¨¡å¼é€‰æ‹©</a></li>
</ul>
</li>
<li><a href="#93-%E6%89%A7%E8%A1%8C%E6%96%B0%E5%A2%9E%E6%93%8D%E4%BD%9C%E6%97%A5%E5%BF%97">9.3 æ‰§è¡Œæ–°å¢æ“ä½œæ—¥å¿—</a></li>
</ul>
</li>
<li><a href="#10-%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE">10 å¤šæ•°æ®æºé…ç½®</a>
<ul>
<li><a href="#%E7%AE%80%E4%BB%8B">ç®€ä»‹</a></li>
<li><a href="#%E7%89%B9%E6%80%A7">ç‰¹æ€§</a></li>
<li><a href="#%E7%BA%A6%E5%AE%9A">çº¦å®š</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95">ä½¿ç”¨æ–¹æ³•</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                            </div>
                            
                                
                                    
                                        <!--en-->
                                        <section class="post-copyright en">
                                            <p class="copyright-item">
                                                <span>Author:</span>
                                                <span>æ–­å‰‘é‡é“¸ä¹‹æ—¥ï¼Œéª‘å£«å½’æ¥ä¹‹æ—¶ã€‚</span>
                                            </p>

                                            <p class="copyright-item">
                                                <span>Permalink:</span>
                                                <span><a href="http://blog.ludangxin.club/post/mybatis-plus/">http://blog.ludangxin.club/post/mybatis-plus/</a></span>
                                            </p>

                                            <p class="copyright-item">
                                                <span>License:</span>
                                                <span>MIT License</span>
                                            </p>
                                        </section>
                                        
                                                
                                                    
                                                        <!-- Share-->
                                                        <span style="margin-right:15px">
                                                    <i class="post-share"></i>
                                                    <span>Share:</span>
                                                        <a title="QR Code" target="_blank" href="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://blog.ludangxin.club/post/mybatis-plus/"><i class="fa fa-qrcode"></i></a>
                                                        <a title="QQ" target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://blog.ludangxin.club/post/mybatis-plus/&sharesource=qzone&title=SpringBoot é›†æˆ Mybatis-Plus&pics=http://blog.ludangxin.club/images/avatar.png?v=1597935637693&summary="><i class="fa fa-qq"></i></a>
                                                        <a title="Weibo" target="_blank" href="https://service.weibo.com/share/share.php?url=http://blog.ludangxin.club/post/mybatis-plus/&sharesource=weibo&title=SpringBoot é›†æˆ Mybatis-Plus + " - " + &pic="http://blog.ludangxin.club/images/avatar.png?v=1597935637693 "><i class="fa fa-weibo "></i></a>
                                                        
                                                                </span>
                                                                <!--en-->
                                                                <section class="post-tags en ">
                                                                    <div>
                                                                        <span>Tag(s):</span>
                                                                        <span class="tag ">
                        
                                                            </span>
                                                                    </div>
                                                                    <div>
                                                                        <a href="javascript:window.history.back();">back</a>
                                                                        <span>&dot;</span>
                                                                        <a href="#">home</a>
                                                                    </div>
                                                                </section>
                                                                
                                                                                <!---->
                                                                                <section class="post-nav">
                                                                                    
                                                                                            
                                                                                                <a class="next" rel="next" href="http://blog.ludangxin.club/post/springboot-ji-cheng-ren-wu-diao-du/">
                                                                                                    SpringBoot  é›†æˆ ä»»åŠ¡è°ƒåº¦
                                                                                                </a>
                                                                                                
                                                                                </section>
                    </article>
                </div>
                
                                            
                                                <script type="application/javascript" src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
<div id="vlaine-comment"></div>
<script type="application/javascript">
    new Valine({
        el: '#vlaine-comment',
        appId: '6v8KE1xPEnnI3VycbaTHPQvD-gzGzoHsz',
        appKey: 'tCAPkuAx3JWn7YrPKlEpyaMH',
        pageSize: 10,
        avatar: 'mp',
        placeholder: 'æ¥éƒ½æ¥äº†ï¼Œä¸å¦¨è¯„è®ºä¸€ä¸‹',
        visitor: true,
        highlight: false,
        recordIP: true,
    })
</script>
                                                    
            </div>
    </div>
    </div>
    </div>
    
        <footer id="footer" class="footer">
            <div class="copyright">
                
                    <div class="Like">
                        <div class="tip" data-tooltip="Do you like it?">
                            <a href="https://github.com/ITJoker233/Gridea-theme-Chic" target="_blank" title=""><svg class="icon"
                        aria-hidden="true">
                        <use xlink:href="#like"></use>
                    </svg><b class="like_text" id="star"></b></a>
                        </div>
                    </div>
                    
                        Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
                            
                                <b id="hitokoto"></b><br>
                                
                                        <svg viewBox="0 0 1024 1024" style="margin-left: 5px;margin-right: 5px;" version="1.0" width="8" height="8" class="my-face">
            <path
                d="M863.597631 513.574282l-271.33965-140.213484L729.783667 81.926656c3.583731-7.87141 7.167462-15.742819 7.167462-25.214109C736.887134 25.226908 708.345275 0.012799 672.635953 0.012799a63.611229 63.611229 0 0 0-39.293053 12.607055c-1.791866 1.59988-3.519736 3.19976-5.311602 3.19976L147.87531 418.925381a55.547834 55.547834 0 0 0-19.646527 47.356448c1.791866 17.278704 14.27093 33.021523 32.125591 42.492813l271.33965 141.749369L292.504463 945.221908c-12.479064 25.214109-1.791866 53.563983 23.166262 69.306802 10.751194 6.335525 23.230258 9.47129 35.709322 9.47129 16.062795 0 32.125591-4.735645 44.604655-15.742819l480.091993-403.297753a55.547834 55.547834 0 0 0 19.646526-47.228458 61.243407 61.243407 0 0 0-32.12559-44.156688z"
                fill="#93b5cf"></path>
        </svg>
                                        æ–­å‰‘é‡é“¸ä¹‹æ—¥ï¼Œéª‘å£«å½’æ¥ä¹‹æ—¶ã€‚ &copy;Copyright
                                            <script>
                                                var date = new Date();
                                                document.write("" + date.getFullYear());
                                            </script>
                                            | Powered by
                                            <a href="https://coding.net" target="_blank">
                                                Coding.net
                                            </a>
            </div>
            <div id="update" style="display:none;">
                on
            </div>
            
                <div id="version" style="display:none;">
                    1.7.4
                </div>
                
                    <script>
                        var port = '';
                        
                        document.write('<div id="home_path" style="display:none;">' + document.location.protocol + '//' + window.document.location.hostname + port + '</div>')
                    </script>
        </footer>
        
            <script src='https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js'></script>
            
                <script>
                    
                    
                    loadlive2d();
                    
                    
                    hitokoto();
                    
                    getStar();
                    hljs.initHighlighting();
                    console.clear();
                    
                    CheckVersion();
                    
                    var newDate = new Date();
                    newDate.setTime(1597935637693);
                    console.log(" Blog Update Time: " + newDate.toLocaleDateString());
                    console.log("\n %c \u26a1Theme:Chic Author's Blog:https://blog.itjoker.cn  Write By ITJoker  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;");
                </script>
        </div>
</body>
<script>
    scroll();
</script>

</html>